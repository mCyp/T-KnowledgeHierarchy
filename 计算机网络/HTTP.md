# HTTP

## 一、简介

### 1. 定义

`HTTP`（HyperText Transfer protocal），超文本传输协议，作用于与应用层。

### 2. 作用

与`TCP/IP`协议簇内的其他协议一样，用于客户端和服务端之前的通信，也就是定义了应用进程间的通信准则。

### 3. 工作方式

- 采用`C/S`（Client/Server）结构，两台计算机使用`HTTP`协议通信的时候，在一条通信路线中，必定一方是客户端，另一方是服务端。
- 请求和响应的交换达成通信。客户端发出请求，服务端回复响应。

### 4. 特点

- 传输效率高
  - 不会保存状态，保存状态需要借助`Cookie`
- 安全性高
  - 使用`TCP`作为运输层的协议

## 二、报文

### 1. 定义

**用于HTTP协议交互的信息**称为报文。那么，再细一点讲呢？引用《图解HTTP》中的原文：

> 是HTTP中的基本通信单位，由8位组字节流（octet sequence，其中octet为8个比特），通过HTTP通信传输

### 2. 请求报文和响应报文

客户端发出的报文被称为**请求报文**，服务端返回的信息被称为**响应报文**。

### 3. HTTP报文结构

讲解结构之前，我们先看一下正常的报文结构应该是什么样的：

*图片来自《图解HTTP》*

|   名称   |                             图片                             |
| :------: | :----------------------------------------------------------: |
| 请求报文 | ![请求报文](https://teaof-konwleadge-1255982134.cos.ap-shanghai.myqcloud.com/blog/%E7%BD%91%E7%BB%9C/HTTP/%E8%AF%B7%E6%B1%82%E6%8A%A5%E6%96%87.png) |
| 响应报文 | ![响应报文](https://teaof-konwleadge-1255982134.cos.ap-shanghai.myqcloud.com/blog/网络/HTTP/响应报文.png) |

对于小白来说，这张可能还是不懂，这两张总清晰点了吧😏：

*图片来自[《计算机网络：这是一份全面& 详细 HTTP知识讲解》](https://www.jianshu.com/p/a6d086a3997d)*

|     名称     |                             图片                             |
| :----------: | :----------------------------------------------------------: |
| 请求报文结构 | ![请求报文结构](https://teaof-konwleadge-1255982134.cos.ap-shanghai.myqcloud.com/blog/%E7%BD%91%E7%BB%9C/HTTP/%E8%AF%B7%E6%B1%82%E6%8A%A5%E6%96%87%E7%BB%93%E6%9E%84.png) |
| 响应报文结构 | ![响应报文结构](https://teaof-konwleadge-1255982134.cos.ap-shanghai.myqcloud.com/blog/%E7%BD%91%E7%BB%9C/HTTP/%E5%93%8D%E5%BA%94%E6%8A%A5%E6%96%87%E7%BB%93%E6%9E%84.png) |

以下是各个部分：

#### 3.1 请求行

##### HTTP方法（请求行）

`HTTP`方法的作用就是告诉服务器的意图，比如说我要得到你这里的信息，我要上传我这里的信息，我要删除某个信息等，常见的方法有：

- `GET`：获取资源
- `POST`：上传实体主体
- `PUT`：传输文件。鉴于`HTTP/1.1`方法自身不带验证机制，任何人都可以上传文件，因此存在安全性问题
- `HEAD`：获得报文首部
- `DELETE`：与PUT相反，按请求的`URI`删除指定的文件
- `OPTIONS`：询问支持的方法
- `TRACE`：追踪踪迹
- `CONNECT`：要求用隧道协议代替代理

常用的有`GET`、`POST`和`HEAD`，如果服务器使用RESTFUL结构，则会用到`GET`、`PUT`、`POST`和`DELETE`。`HTTP`方法的最后，谈一下`POST`和`GET`的区别：

| HTTP方法 |                      传递参数的长度限制                      | 传递的参数类型 | 安全性                          | 使用场景             |
| :------: | :----------------------------------------------------------: | -------------- | ------------------------------- | -------------------- |
|   GET    | `GET`方法的参数加在`URL`的后面，使用“?”代表`URL`的结尾，使用“&”代表请求参数的开始 | ASCII字符      | 不安全，因为参数都暴露在`URL`中 | 参数不多，数据不敏感 |
|   POST   |                            无限制                            | 任何类型       | 安全                            | 量大，或者数据敏感   |

##### URI（request-URI）（请求行）

指明请求访问的资源对象，如果我们输入的请求访问地址为`www.teaOf.com/index.html`，那么我们此时的`URI`就是`/index.html`

##### 协议版本

`HTTP`的版本号

##### 状态码、状态短语（响应行）

|       | 类别                             | 原因短语                   |
| :---- | -------------------------------- | -------------------------- |
| `1XX` | Infromational（信息状态码）      | 接收的请求正在处理         |
| `2XX` | Success（成功状态码）            | 请求正常处理完毕           |
| `3XX` | Redirection（重定向状态码）      | 需要进行附加操作以完成请求 |
| `4XX` | Client Error（客户端错误状态码） | 服务器无法处理请求         |
| `5XX` | Server Error（服务端错误状态码） | 服务端处理请求出错         |

#### 3.2 HTTP头部

HTTP头部存放着HTTP报文的重要信息

##### 通用首部字段

##### 请求首部字段

##### 响应首部字段

##### 实体首部字段

#### 3.3 实体



## 三、长连接

