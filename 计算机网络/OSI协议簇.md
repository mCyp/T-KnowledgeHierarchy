# OSI 体系结构

## 应用层

## 表示层

## 会话层

## 传输层

## 网络层

网络层（Network Layer）是OSI模型的第三层，提供路由与寻址的功能，使两端系统能够互连并决定最终路径，并具有一定的拥塞控制和流量控制的能够力。

### 1. 存在意义

- 提供路由与寻址
- 寻找最佳路径
- 拥塞控制和流量控制

### 2. 协议

#### # ICMP

ICMP全程**Internet Control Message Protocal**，也就是**互联网报文控制协议**。

ICMP主要的使用方式有两种：

- 查询报文类型：常见的**Ping**就是主动请求并获取主动应答的ICMP协议。
- 差错报文类型：故意发送一些错误的包，从而获取路由中的一些信息，比如到最近一跳所需花的时间，贷款。常见的如**Traceroute**。



### 3. 设备

#### # 网关

网关往往是一个路由器，是一个三层转发设备，一般是某一个网段的第一和或者第二个。

#### # 路由器

路由器是一个三层设备，它里面通常有多张网卡，里面有如何寻找下一跳的规则。**经过路由器之后的MAC头会变，IP地址可变可不变，变的情况就是NAT**。





## 数据链路层

数据链路层，也称**MAC（Mudium Access Control）**,即**媒体访问控制**。

### 1. 存在意义

该层能够解决的问题：

- 定制发送规则：**随机接入协议**
- 发送双方的确定：利用**MAC头**确定接送双方

- 错误检测：第二层的后面是最后是**CRC**，用来进行循环冗余检测

### 2. 相关协议

#### # ARP协议

ARP协议是通过解析**网络层地址**获取**数据链路层地址**的网络传输协议。

#### # RARP

RARP协议是通过解析**数据链路层地址**获取**网络层地址**的网络传输协议。

#### # STP

STP协议可以解决交换机中的环路问题，将由环路的图变成没有环路的树。

 ### 3. 相关设备

#### # 交换机

它有一个**转发表**可以记下哪个口对应的MAC地址设备。所以交换机是有学习能力，经过第一次转发以后，它就会记录某个口对应的MAC地址。

交换机数目过多的时候，我们可以使用**物理隔离**或者使用**虚拟隔离**，也就是我们平时所说的**VLAN（虚拟局域网）**。



## 物理层

物理信号的接收和发送，比如线路、无线电、光纤等等

有一种设备叫做**集线器（Hub）**，它工作在物理层，负责将信号广播到附近的设备